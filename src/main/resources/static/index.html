<!doctype html>

<html lang="ru" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="css/crud_site.css" rel="stylesheet">
    <title>Админка</title>

</head>
<body>
<!-- Верхняя серая строчка -->
<div class="p-3 bg-dark bg-gradient text-white row justify-content-between">
    <div class="col-md-7"><h5 id="headerUserEmailAndRoles"></h5></div>
    <div class="col-md-1"><h5><a class="text-secondary" href="/">logout</a></h5></div>
</div> <!-- /Верхняя серая строчка -->

<div class="row" id="mainPage" hidden> <!-- Тело страницы после заголовка -->


    <div class="col-md-2 ">  <!-- Левое меню Админ - пользователь -->
        <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <button class="nav-link " id="v-pills-admin-tab" data-bs-toggle="pill" data-bs-target="#v-pills-admin"
                    type="button" role="tab" aria-controls="v-pills-admin" aria-selected="false" hidden>Админ
            </button>
            <button class="nav-link active" id="v-pills-user-tab" data-bs-toggle="pill" data-bs-target="#v-pills-user"
                    type="button" role="tab" aria-controls="v-pills-user" aria-selected="true">Пользователь
            </button>
        </div>
    </div> <!-- /Левое меню Админ - пользователь -->


    <div class="tab-content col-md-10"> <!-- Контейнер вкладок центральной области-->
        <!-- Панель администратора-->
        <div class="tab-pane fade bg-light" id="v-pills-admin"
             role="tabpanel"
             aria-labelledby="v-pills-admin-tab">
            <h1><b>Панель администратора</b></h1>
            <div class="container-fluid">


                <nav> <!-- Меню Все пользователи - Новый -->
                    <div class="nav nav-tabs " id="nav-tab" role="tablist">
                        <button class="nav-link active btn-lg" id="nav-user_list-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-user_list" type="button" role="tab" aria-controls="nav-user_list"
                                aria-selected="true">Таблица Пользователей
                        </button>
                        <button class="nav-link btn-lg" id="nav-new_user-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-new_user" type="button" role="tab" aria-controls="nav-new_user"
                                aria-selected="false">Добавить нового
                        </button>
                    </div>
                </nav> <!-- /Меню Все пользователи - Новый -->

                <!--Контейнер  Все пользователи - новый -->
                <div class="tab-content" id="nav-tabContent">

                    <!-- Вкладка Все пользователи -->
                    <div class="tab-pane fade show active" id="nav-user_list" role="tabpanel"
                         aria-labelledby="nav-user_list-tab">
                        <div class="list-group">
                            <div class="list-group-item"><h4>Все пользователи</h4></div>
                            <div class="list-group-item">
                                <table class="table table-striped">
                                    <thead class="border-top fw-bold">
                                    <tr>
                                        <td>Ид</td>
                                        <td>Имя</td>
                                        <td>Фамилия</td>
                                        <td>Возраст</td>
                                        <td>Эл.почта</td>
                                        <td>Права</td>
                                        <td>Редакт.</td>
                                        <td>Удалить</td>
                                    </tr>
                                    </thead>
                                    <tbody id="AllUsersInfoTable">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div> <!-- /Вкладка Все пользователи -->

                    <!-- Вкладка Новый пользователь -->
                    <div class="tab-pane fade" id="nav-new_user" role="tabpanel" aria-labelledby="nav-new_user-tab">
                        <div class="container-fluid p-3">
                            <h3>Добавить нового пользователя</h3>
                        </div>
                        <div class="container bg-white">
                            <!-- Форма нового пользователя-->
                            <form class="bg-white col-md-4 offset-md-4 text-md-center was-validated"
                                  action="javascript:newUserSender()">
                                <div class="mb-3">
                                    <label for="InputName" class="form-label fw-bold ">Имя</label>
                                    <input type="text" class="form-control" id="InputName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="InputSurname" class="form-label fw-bold">Фамилия</label>
                                    <input type="text" class="form-control" id="InputSurname" required>
                                </div>
                                <div class="mb-3">
                                    <label for="InputAge" class="form-label fw-bold">Возраст</label>
                                    <input type="number" class="form-control" id="InputAge">
                                </div>
                                <div class="mb-3">
                                    <label for="InputEmail" class="form-label fw-bold">Электронная почта</label>
                                    <input type="email" class="form-control" id="InputEmail"
                                           required>
                                </div>
                                <div class="mb-3">
                                    <label for="InputPassword" class="form-label fw-bold">Пароль</label>
                                    <input type="password" class="form-control" id="InputPassword" required>
                                </div>
                                <div class="mb-4">
                                    <label for="newUserRoles" class="form-label fw-bold">Роль</label>
                                    <select class="form-select" multiple id="newUserRoles"
                                            aria-label="select-roles" required></select>
                                </div>
                                <div class="mb-3">
                                    <button type="submit" class="btn btn-primary btn-lg p-3">
                                        Добавить пользователя
                                    </button>
                                </div>
                            </form> <!-- /Форма нового пользователя-->

                        </div>
                    </div> <!-- /Вкладка Новый пользователь -->


                </div> <!--/Контейнер  Все пользователи - новый -->

            </div>
        </div> <!-- /Панель администратора 2 div-->

        <!-- Тут страница текущего пользователя -->
        <div class="tab-pane fade bg-light show active" id="v-pills-user" role="tabpanel"
             aria-labelledby="v-pills-user-tab">
            <h1><b>Страница информации о пользователе</b></h1>
            <div class="container-fluid">

                <!-- Таблица о пользователе -->
                <div class="list-group-item bg-light"><h4>О пользователе</h4></div>
                <div class="list-group">
                    <div class="list-group-item">
                        <table class="table table-striped">
                            <thead class="border-top" style="font-weight: bold">
                            <tr>
                                <td>ID</td>
                                <td>First Name</td>
                                <td>Surname</td>
                                <td>Age</td>
                                <td>Email</td>
                                <td>role</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr id="currentUserInfoTable">
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>  <!-- /Таблица о пользователе -->

            </div>
        </div>   <!-- /Тут страница текущего пользователя  2 div -->
    </div> <!-- /Контейнер вкладок центральной области-->

</div> <!-- /Тело страницы после заголовка -->


<!-- Модальный редактор -->
<div class="modal fade" id="EditorModal" tabindex="-1" aria-labelledby="EditorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="EditorModalLabel">Редактировать пользователя</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <!-- Форма редактора пользователя-->
                <form class="bg-white col-md-6 offset-md-3 text-md-center was-validated" id="EditorModalForm"
                      action="javascript:editButtonSender()">
                    <div class="mb-3">
                        <label for="IdModalEditor" class="form-label fw-bold ">Идентификатор</label>
                        <input type="text" class="form-control" id="IdModalEditor" disabled>
                        <input type="hidden" id="RealIdModalEditor" name="id" value=""/>
                    </div>

                    <div class="mb-3">
                        <label for="InputNameModalEditor" class="form-label fw-bold ">Имя</label>
                        <input type="text" class="form-control" id="InputNameModalEditor" required>
                    </div>
                    <div class="mb-3">
                        <label for="InputSurnameModalEditor" class="form-label fw-bold">Фамилия</label>
                        <input type="text" class="form-control" id="InputSurnameModalEditor" required>
                    </div>
                    <div class="mb-3">
                        <label for="InputAgeModalEditor" class="form-label fw-bold">Возраст</label>
                        <input type="number" class="form-control" id="InputAgeModalEditor">
                    </div>
                    <div class="mb-3">
                        <label for="InputEmailModalEditor" class="form-label fw-bold">Электронная почта</label>
                        <input type="email" class="form-control" id="InputEmailModalEditor" required>
                    </div>
                    <div class="mb-3">
                        <label for="InputPasswordModalEditor" class="form-label fw-bold">Пароль</label>
                        <input type="password" class="form-control" id="InputPasswordModalEditor">
                    </div>
                    <div class="mb-4">
                        <label for="RolesModalEditor" class="form-label fw-bold">Роль</label>
                        <select class="form-select" multiple id="rolesModalEditor" aria-label="select-roles" required>
                        </select>
                    </div>
                </form> <!-- /Форма редактора пользователя-->


            </div>
            <div class="modal-footer">
                <button type="button" id="closeModalEditor" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть
                </button>
                <button type="submit" class="btn btn-primary" form="EditorModalForm">Сохранить</button>
            </div>
        </div>
    </div>
</div> <!-- /Модальный редактор -->

<!-- Модальный Удалитель -->
<div class="modal fade" id="DeleteModal" tabindex="-1" aria-labelledby="DeleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="DeleteModalLabel">Удаление пользователя</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <!-- Форма удаления пользователя -->
                <form id="DeleteModalForm" class="bg-white col-md-6 offset-md-3 text-md-center" action="#">
                    <div class="mb-3">
                        <label for="IdModalDelete" class="form-label fw-bold ">Идентификатор</label>
                        <input type="text" class="form-control" id="IdModalDelete" disabled required>
                    </div>
                    <div class="mb-3">
                        <label for="InputNameModalDelete" class="form-label fw-bold ">Имя</label>
                        <input type="text" class="form-control" id="InputNameModalDelete" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="InputSurnameModalDelete" class="form-label fw-bold">Фамилия</label>
                        <input type="text" class="form-control" id="InputSurnameModalDelete" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="InputAgeModalDelete" class="form-label fw-bold">Возраст</label>
                        <input type="number" class="form-control" id="InputAgeModalDelete" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="InputEmailModalDelete" class="form-label fw-bold">Электронная почта</label>
                        <input type="email" class="form-control" id="InputEmailModalDelete" disabled>
                    </div>
                    <div class="mb-4">
                        <label for="RolesModalDelete" class="form-label fw-bold">Роль</label>
                        <select class="form-select" multiple id="rolesModalDelete" aria-label="select-roles" disabled>
                        </select>
                    </div>
                </form> <!-- /Форма удаления пользователя -->


            </div>
            <div class="modal-footer">
                <button type="button" id="closeModalDelete" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть
                </button>
                <button type="button" class="btn btn-danger" onclick="deleteButtonSender()">Удалить</button>
            </div>
        </div>
    </div>
</div> <!-- /Модальный Удалитель -->

<div id="msg_pop">
    <span class="msg_close" onclick="document.getElementById('msg_pop').style.display='none'; return false;">X</span>
    <h3 class="text-danger" id="ResultMessage"></h3>
</div>

<!-- Форма логина -->
<div class="text-center body-signin" id="loginForm">
    <main class="form-signin">
        <form class="was-validated" action="javascript:credentialButtonSender()">
            <h1 class="h3 mb-3 fw-normal">Привет, представься</h1>

            <div class="form-floating-signin">
                <label for="floatingInput">Эл. почта</label>
                <input type="email" class="form-control input-email" id="floatingInput" name="username"
                       placeholder="name@example.com" required>
            </div>
            <div class="form-floating-signin">
                <label for="floatingPassword">Пароль</label>
                <input type="password" class="form-control input-password" id="floatingPassword" name="password"
                       placeholder="Пароль" required>
            </div>
            <button class="w-100 btn btn-lg btn-primary" type="submit" value="Авторизоваться">Войти</button>
        </form>
    </main>
</div> <!-- /Форма логина -->


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

<!-- мой JS -->
<script type="text/javascript" src="js/script.js"></script>

</body>
</html>